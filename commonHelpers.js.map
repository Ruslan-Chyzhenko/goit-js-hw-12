{"version":3,"file":"commonHelpers.js","sources":["../src/js/index.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst form = document.querySelector('.search-form');\n\nasync function searchImages(query) {\n    showLoader();\n\n    const API_KEY = '42262858-7b31826aafbc45fb5436f2ee9';\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error('An error occurred while making the request.');\n        }\n\n        const data = await response.json();\n\n        if (data.hits.length === 0) {\n            toastError('Sorry, there are no images matching your search query. Please try again!');\n        } else {\n            displayImages(data.hits);\n            resetForm();\n        }\n    } catch (error) {\n        console.error('Error:', error.message);\n        toastError(`Error fetching images: ${error}`);\n    } finally {\n        hideLoader();\n    }\n}\n\nfunction displayImages(images) {\n    gallery.innerHTML = '';\n\n    const imageCards = images.map(image => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n\n        card.innerHTML = `\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\">\n            </a>\n            <div class=\"overlay\">\n                <div class=\"details\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n            </div>\n        `;\n\n        return card;\n    });\n\n    imageCards.forEach(card => {\n        gallery.appendChild(card);\n    });\n\n    lightbox.refresh();\n}\n\nfunction toastError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        backgroundColor: '#EF4040',\n        progressBarColor: '#FFE0AC',\n        icon: 'icon-close',\n        position: 'topRight',\n        displayMode: 'replace',\n        closeOnEscape: true,\n        pauseOnHover: false,\n        maxWidth: 432,\n        messageSize: '16px',\n        messageLineHeight: '24px',\n    });\n}\n\nfunction showLoader() {\n    loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n    loader.classList.add('hidden');\n}\n\nfunction resetForm() {\n    form.reset();\n}\n\nfunction initializeSearch() {\n    form.addEventListener('submit', async function(event) {\n        event.preventDefault();\n        const queryInput = event.target.elements.query.value.trim();\n\n        if (queryInput === '') {\n            toastError('Please enter a search query.');\n            return;\n        }\n\n        try {\n            await searchImages(queryInput);\n        } catch (error) {\n            console.error('Error:', error.message);\n            toastError(`Error searching images: ${error}`);\n        }\n    });\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeSearch();\n});"],"names":["lightbox","SimpleLightbox","gallery","loader","form","searchImages","query","showLoader","url","response","data","toastError","displayImages","resetForm","error","hideLoader","images","image","card","message","iziToast","initializeSearch","event","queryInput"],"mappings":"6vBAKA,MAAMA,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,cAAc,EAElD,eAAeC,EAAaC,EAAO,CAC/BC,IAGA,MAAMC,EAAM,qEAA6C,mBAAmBF,CAAK,CAAC,2DAElF,GAAI,CACA,MAAMG,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6CAA6C,EAGjE,MAAMC,EAAO,MAAMD,EAAS,OAExBC,EAAK,KAAK,SAAW,EACrBC,EAAW,0EAA0E,GAErFC,EAAcF,EAAK,IAAI,EACvBG,IAEP,OAAQC,EAAO,CACZ,QAAQ,MAAM,SAAUA,EAAM,OAAO,EACrCH,EAAW,0BAA0BG,CAAK,EAAE,CACpD,QAAc,CACNC,GACH,CACL,CAEA,SAASH,EAAcI,EAAQ,CAC3Bd,EAAQ,UAAY,GAEDc,EAAO,IAAIC,GAAS,CACnC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAY;AAAA,uBACFD,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gCAIxDA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,UAKpCC,CACf,CAAK,EAEU,QAAQA,GAAQ,CACvBhB,EAAQ,YAAYgB,CAAI,CAChC,CAAK,EAEDlB,EAAS,QAAO,CACpB,CAEA,SAASW,EAAWQ,EAAS,CACzBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,gBAAiB,UACjB,iBAAkB,UAClB,KAAM,aACN,SAAU,WACV,YAAa,UACb,cAAe,GACf,aAAc,GACd,SAAU,IACV,YAAa,OACb,kBAAmB,MAC3B,CAAK,CACL,CAEA,SAASZ,GAAa,CAClBJ,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASY,GAAa,CAClBZ,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEA,SAASU,GAAY,CACjBT,EAAK,MAAK,CACd,CAEA,SAASiB,GAAmB,CACxBjB,EAAK,iBAAiB,SAAU,eAAekB,EAAO,CAClDA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAErD,GAAIC,IAAe,GAAI,CACnBZ,EAAW,8BAA8B,EACzC,MACH,CAED,GAAI,CACA,MAAMN,EAAakB,CAAU,CAChC,OAAQT,EAAO,CACZ,QAAQ,MAAM,SAAUA,EAAM,OAAO,EACrCH,EAAW,2BAA2BG,CAAK,EAAE,CAChD,CACT,CAAK,CACL,CAEA,SAAS,iBAAiB,mBAAoB,UAAW,CACrDO,GACJ,CAAC"}